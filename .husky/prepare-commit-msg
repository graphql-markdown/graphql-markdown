#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Exit early if not in interactive mode (CI/CD environments)
if [ ! -t 0 ]; then
  exit 0
fi

# Only run if /dev/tty exists (interactive terminal) and not amending
if [ -e /dev/tty ] && [ -z "$2" ]; then
  # Run commitizen for interactive commit message creation
  if command -v bunx > /dev/null 2>&1; then
    exec < /dev/tty && bunx --bun cz --hook || true
  elif command -v npx > /dev/null 2>&1; then
    exec < /dev/tty && npx --no -- cz --hook || true
  fi
fi

